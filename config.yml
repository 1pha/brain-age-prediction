# MISC
seed: 42
registration: mni
plot: False
RESULT_PATH: ../result/models/
use_amp: True


# DATALOADER
test_size: 0.2
batch_size: 16
augment: False
resize: [96, 96, 96]
aug_proba:
  affine: 0.33
  flip: 0.33
  elastic_deform: 0.33
aug_intensity:
  affine: [0.1, 10]
  elastic_deform: [7, .5]
unused_src:
  - ~


# DEBUG
debug: False
data_debug:
  rot90: False
  return_path: False
  aug_verbose: False
run_debug:
  return_all: False
  verbose_all: False


# MODEL
layers: [4, 8, 16, 32]
batchnorm: True # Vres
double: False # Vres
dropout: True # SFCN
channel_number: [32, 64, 128, 256, 64] # SFCN
start_channels: 16 # RESNET


# TRAIN
epochs: 100
mae_threshold: 8.0
verbose_period: 1
early_patience: 20
optimizer: adam
lr: 0.0001
weight_decay: 0

model_name: resnet
lamb: 0.0005
learning_rate: 0.0001
scheduler: false
loss: mse
metrics:
  - rmse
  - mae
  - r2
  - corr

# MODEL SETUP
encoder:
  name: vanillaconv
  # start_channel: 16 for Resnet

regressor:
  name: nkregressor
  init_node: 128

domainer:
  name: nkdomainpredictor
  init_node: 128
  num_dbs: 2

alpha: 1  # DOMAINER WEIGHT
beta : 10 # CONFUSION WEIGHT
  
    
# OPTIMIZER SETTINGS
phase1:
  optimizer: adam
  lr: .0001
  weight_decay: 0
  use: True
  epoch: 100
  
phase2:
  optimizer: adam
  lr: .0001
  weight_decay: 0
  use: True
  epoch: 10

phase3:
  optimizer: adam
  lr: .0001
  weight_decay: 0
  use: True
  epoch: 50

